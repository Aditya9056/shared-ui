# Contributing

1. Install node. It's recommended to install `nvm` to switch between node versions.
2. Execute npm in root project folder `npm install` will install all needed packages in `node_modules` folder.
3. Execute `npm run dev` to start watching SCSS and JS files. The demo file will then automatically be served up by [Browsersync](https://browsersync.io/). All changes made will automatically be watched and the page live reloaded when changes are made.

## npm tasks
Everything should be handled by npm. Note that you don't need to interact with Gulp in a direct way.

* **`npm run dev`**: Fires up a [Browsersync](https://browsersync.io/) server with the project demo (index.html). Changes are automatically updated. This should be the only command needed for submitting code changes to the project.
* **`npm run build`**: Compiles SCSS & JS then quits.
* **`npm run version [-- <args>]`**: Compiles SCSS & JS, & tags the version for release. The new version number is the only argument.

## Workflow

Do not commit on `development` or `master` branches. `development` is the code that will be used for beta testing. `master` should always be synced with the latest version.

- Create a new branch from `development` branch: `git checkout -b branch-name`. Try to give it a descriptive name. For example:
    * `new/modal-box` for new features
    * `enhance/floating-notification` for enhancements
    * `fix/header-padding-incorrect` for bugfixing
- Make your commits and push the new branch: `git push -u origin branch-name`
- File the new Pull Request against `development` branch
- Assign somebody to review your code.
- Once the PR is approved and finished, merge it in `development` branch.
- Delete your branch locally and make sure that it does not longer exist remote.

It's a good idea to create the Pull Request as soon as possible so everybody knows what's going on with the project from the PRs screen in Bitbucket.

## Scoping Styles & Scripts

In order to avoid conflicts with other versions of this library, we are using a versioned body class in the format `.sui-x-x-x`. This class is automatically generated by the `body-class` mixin which should wrap all scss in the project.

Any base styles should also include the `.sui-wrap` class. This class is used in place of the `.wrap` class for plugin admin pages to prevent any Shared UI specific styles from bleeding into the wp-admin menubar & sidebar.

## Updating the Shared UI Package

Manually update the version number ([Follow semantic versioning](http://semver.org/)) in the following 3 locations:

+ `package.json`
+ `scss/_variables.scss`
+ `index.html` (the body class in the final format .sui-x-x-x)

Run the following command where `<number>` is the new version number:

```
npm run version -- <number>
```

After checking the demo again to ensure everything looks good, publish the new package to npm:

```
npm publish
```
